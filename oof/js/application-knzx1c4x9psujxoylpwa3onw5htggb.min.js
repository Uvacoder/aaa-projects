$(document).ready(function () {
    $(".menu-burger").click(function () {
        $("nav").toggleClass("mobile-white"), $(".logo").toggleClass("white-svg"), $(".bar").toggleClass("animate"), $(".overlay").fadeToggle(100, "linear"), $(".menu-options-list").delay(100).addClass("slideDownIn")
    }), $("#js-btn--menu").click(function () {
        $(this).toggleClass("is-active")
    })
}), $(document).on("click", "a", function () {
    var e = $(this).attr("href");
    if (e && "#" !== e[0]) return $("html").fadeOut(function () {
        location = e
    }), !1;
    location.hash = e
}), $(function () {
    function e(e) {
        "success" == e.result ? ($("form#reused_form").hide(), $("#success_message").show(), $("#error_message").hide()) : ($("#error_message").append("<ul></ul>"), jQuery.each(e.errors, function (e, o) {
            $("#error_message ul").append("<li>" + e + ":" + o + "</li>")
        }), $("#success_message").hide(), $("#error_message").show(), $('button[type="button"]', $form).each(function () {
            $btn = $(this), label = $btn.prop("orig_label"), label && ($btn.prop("type", "submit"), $btn.text(label), $btn.prop("orig_label", ""))
        }))
    }
    $("#reused_form").submit(function (o) {
        o.preventDefault(), $form = $(this), $('button[type="submit"]', $form).each(function () {
            $btn = $(this), $btn.prop("type", "button"), $btn.prop("orig_label", $btn.text()), $btn.text("Sending ...")
        }), $.ajax({
            type: "POST",
            url: "handler.php",
            data: $form.serialize(),
            success: e,
            dataType: "json"
        })
    })
});
var rafId = null,
    delay = 200,
    lTime = 0;

function reveal() {
    rafId = null;
    var e = performance.now();
    if (e - lTime > delay) {
        lTime = e;
        var o = $(".reveal_pending");
        $(o.get(0)).removeClass("reveal_pending").addClass("reveal_visible")
    }
    $(".reveal_pending").length >= 1 && (rafId = requestAnimationFrame(reveal))
}
